# AWS API Gateway WebSocket - Local Emulator Configuration

port: 3001
stage: dev
apiId: local

# Integration mode:
# - 'lambda_proxy' (default): Send full AWS Lambda event as JSON body
#   - connectionId in body.requestContext.connectionId
#   - Suitable for Lambda-style backends
#
# - 'http': Send connectionId in HTTP headers
#   - connectionId in header 'connectionId'
#   - queryStringParameters forwarded as URL params
#   - Message body sent directly (not wrapped)
#   - Suitable for traditional HTTP backends (like Spring Boot)
integrationMode: lambda_proxy

# Route integrations
routes:
  $connect:
    uri: http://localhost:8080/ws/connect
  $disconnect:
    uri: http://localhost:8080/ws/disconnect
  $default:
    uri: http://localhost:8080/ws/default

# Timeouts (in seconds)
idleTimeout: 600    # 10 minutes
hardTimeout: 7200   # 2 hours

verbose: false

# Custom routes example (P2):
# routeSelectionExpression: "$request.body.action"
# routes:
#   $connect:
#     uri: http://localhost:8080/ws/connect
#   $disconnect:
#     uri: http://localhost:8080/ws/disconnect
#   $default:
#     uri: http://localhost:8080/ws/default
#   joinRoom:
#     uri: http://localhost:8080/ws/join-room
#   sendMessage:
#     uri: http://localhost:8080/ws/send-message
